(this.webpackJsonpspider=this.webpackJsonpspider||[]).push([[0],{172:function(e,t,n){},250:function(e,t,n){},251:function(e,t,n){},254:function(e,t,n){},392:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n.n(r),i=n(39),s=n.n(i),o=n(18),l=n(90),u=n(195),d=n(13),j="FAMILY_SUCCESS",b="FAMILY_FAILED",p="FAMILY_FETCHING",x="GENUS_SUCCESS",h="GENUS_FAILED",f="GENUS_FETCHING",m="SPECIES_SUCCESS",O="SPECIES_FAILED",g="SPECIES_FETCHING",v="PROVINCE_SUCCESS",y="PROVINCE_FAILED",w="PROVINCE_FETCHING",S="DISTRICT_SUCCESS",k="DISTRICT_FAILED",_="DISTRICT_FETCHING",F="DETAIL_SUCCESS",C="DETAIL_FAILED",E="DETAIL_FETCHING",I="LOCATION_SUCCESS",P="LOCATION_FAILED",A="LOCATION_FETCHING",N="ADDRESS_SUCCESS",z="ADDRESS_FAILED",L="ADDRESS_FETCHING",D="IMAGE_SUCCESS",B="IMAGE_FAILED",T="IMAGE_FETCHING",G="PAPER_SUCCESS",W="PAPER_FAILED",R="PAPER_FETCHING",M="LOGIN_SUCCESS",H="LOGIN_FAIL",U="LOGOUT",q={result:null,isFetching:!1,isError:!1},V={result:null,isFetching:!1,isError:!1},J=JSON.parse(localStorage.getItem("user")),K=J?{isLoggedIn:!0,user:J}:{isLoggedIn:!1,user:null},Y={result:null,isFetching:!1,isError:!1},X={result:null,isFetching:!1,isError:!1},Q={result:null,isFetching:!1,isError:!1},Z={result:null,isFetching:!1,isError:!1},$={result:null,isFetching:!1,isError:!1},ee={result:null,isFetching:!1,isError:!1},te={result:null,isFetching:!1,isError:!1},ne={result:null,isFetching:!1,isError:!1},ae=Object(l.b)({family:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case p:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case b:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case j:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},genus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case f:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case h:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case x:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case M:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,user:a.user});case H:case U:return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,user:null});default:return e}},species:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case g:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case O:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case m:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},province:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case w:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case y:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case v:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},district:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case k:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case S:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},detail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case E:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case C:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case F:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},location:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case A:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case P:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case I:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},address:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ee,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case L:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case z:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case N:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case T:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case B:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case D:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}},paper:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case R:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!0,isError:!1});case W:return Object(d.a)(Object(d.a)({},e),{},{result:null,isFetching:!1,isError:!0});case G:return Object(d.a)(Object(d.a)({},e),{},{result:a,isFetching:!1,isError:!1});default:return e}}}),re=function(e,t){return ae(e,t)},ce=n(196),ie=n.n(ce);a=Object(l.a)(u.a,ie.a);var se=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,oe=Object(l.d)(re,se(a)),le=(n(250),n(251),n(70)),ue=n(27),de=n(500),je=n(158),be=n(451),pe=n(513),xe=n(479),he=n(19),fe=n(4),me=n.n(fe),Oe=n(11),ge=n(9),ve=n(499),ye=n(452),we=n(487),Se=n(501),ke=n(481),_e=n(106),Fe=n(478),Ce=n(406),Ee=n(502),Ie=n(448),Pe=n(488),Ae=n(449),Ne=n(450),ze=n(0),Le=function(e){var t=e.listEx,n=(e.listNormal,e.zoom),a=Object(r.useState)(),c=Object(ge.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(),l=Object(ge.a)(o,2),u=(l[0],l[1]);return Object(r.useEffect)((function(){if(console.log("listEx",t),t){for(var e=[],n=0;n<t.length;n++)for(var a=0;a<t[n].address.length;a++)e.push(t[n].address[a]);s(e),u([parseFloat(e[0].latitude),parseFloat(e[0].longitude)])}}),[t]),Object(ze.jsx)("div",{style:{height:"100%"},children:i?Object(ze.jsxs)(Ie.a,{className:"map-view",center:[parseFloat(i[0].latitude),parseFloat(i[0].longitude)],zoom:n||2,children:[Object(ze.jsx)(Pe.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.filter((function(e){return console.log("parseFloat(item.latitude)",parseFloat(e.latitude)),console.log("parseFloat(item.longitude)",parseFloat(e.longitude)),console.log(!isNaN(parseFloat(e.latitude))&&!isNaN(parseFloat(e.longitude))),!isNaN(parseFloat(e.latitude))&&!isNaN(parseFloat(e.longitude))})).map((function(e,t){return Object(ze.jsx)(Ae.a,{position:[parseFloat(e.latitude),parseFloat(e.longitude)],children:Object(ze.jsx)(Ne.a,{children:e.name})},t)}))]}):Object(ze.jsx)(Ie.a,{className:"map-view",center:[13,100],zoom:n||5,children:Object(ze.jsx)(Pe.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})})})},De=(n(254),n(461)),Be=n(462),Te=n(463),Ge=n(464),We=n(72),Re=n.n(We),Me=n(102),He=n.n(Me),Ue=/^(?:\w+:)\/\//,qe=JSON.parse(localStorage.getItem("user"));Re.a.interceptors.request.use(function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ue.test(t.url)||(t.url=He()("http://localhost:8080/api/",t.url)),t.timeout=9e5,qe&&qe.accessToken&&(t.headers={"x-access-token":qe.accessToken}),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Re.a.interceptors.response.use((function(e){return e}),function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(JSON.stringify(t,void 0,2)),!Re.a.isCancel(t)){e.next=5;break}return e.abrupt("return",Promise.reject(t));case 5:if(t.response){e.next=8;break}return alert(JSON.stringify(t)),e.abrupt("return",Promise.reject({code:"NOT_CONNECT_NETWORK",message:"Cannot connect to server, Please try again."}));case 8:return e.abrupt("return",Promise.reject(t));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var Ve=Re.a,Je=function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("family/allfamily");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("family/postfamily",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye={getAllFamily:Je,getFamily:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("family/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postFamily:Ke},Xe=function(){return function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ye.getAllFamily();case 3:(n=e.sent)&&t({type:j,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:b});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},Qe=function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("genus/allgenus");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.post("genus/postgenus",t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$e={getAllGenus:Qe,getGenus:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("genus/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postGenus:Ze},et=function(){return function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$e.getAllGenus();case 3:(n=e.sent)&&t({type:x,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:h});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},tt={getAllProvinces:function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("getallprovinces").then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},nt=function(){return function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,tt.getAllProvinces();case 3:(n=e.sent)&&t({type:v,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:y});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},at={getAllDistrict:function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("getalldistricts").then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},rt=function(){return function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at.getAllDistrict();case 3:(n=e.sent)&&t({type:S,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:k});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},ct=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("detail/postDetail",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),it=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("detail/updateDatailType",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),st=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("detail/updateDatail",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("detail/get/"+t).then((function(e){return e.data}));case 2:return n=e.sent,console.log("get detail",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("admin/detail/get/"+t).then((function(e){return e.data}));case 2:return n=e.sent,console.log("get detail",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ut={postDetail:ct,getDetail:ot,getAllDetail:function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("detail").then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAllDetailAdmin:function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("admin/detail").then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateDetail:st,updateDetailType:it,getDetailAdmin:lt},dt=function(){return function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ut.getAllDetail();case 3:(n=e.sent)&&t({type:F,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:C});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},jt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("/location/postLocation",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("/location/updateLocation",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("location/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("admin/location/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht={postLocation:jt,getLocation:pt,getAllLocation:function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("location").then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),updateLocation:bt,getLocationAdmin:xt},ft=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("address/postAddress",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services",t),e.next=3,Ve.post("address/updateAddress",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("address/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),gt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("admin/address/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),vt={postAddress:ft,getAddress:Ot,getAllAddress:function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("address").then((function(e){return e.data}));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getFromLocationId:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("address/getFromLocationId/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateAddress:mt,getAddressAdmin:gt},yt=function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("species/allspecies");case 2:return t=e.sent,console.log("res species ".concat(t)),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),wt=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.post("species/postspecies",t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),St={getAllSpecies:yt,getSpecies:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("species/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),postSpecies:wt},kt=function(){return function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,St.getAllSpecies();case 3:(n=e.sent)&&t({type:m,payload:n.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:O});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},_t=n(405),Ft=n(403),Ct=n(402),Et=n(486),It=n(492),Pt=n(489),At=n(493),Nt=n(494),zt=n(495),Lt=n(496),Dt=n(497),Bt=n(498),Tt=Object(je.a)(),Gt=function(e){var t=e.family,n=e.detail,a=(e.genus,e.ToNext),i=e.ButtonStack,s=Object(r.useState)(0),o=Object(ge.a)(s,2),l=o[0],u=o[1];return Object(ze.jsx)(c.a.Fragment,{children:Object(ze.jsx)(pe.a,{theme:Tt,children:Object(ze.jsxs)(be.a,{injectFirst:!0,children:[Object(ze.jsxs)(ye.a,{sx:{display:"flex",alignItems:"center"},children:[Object(ze.jsx)(_e.a,{variant:"h6",component:"div",children:"Filter type"}),Object(ze.jsx)(ye.a,{sx:{flexGrow:.02}}),Object(ze.jsx)(ye.a,{sx:{width:160},children:Object(ze.jsxs)(_t.a,{fullWidth:!0,children:[Object(ze.jsx)(Ft.a,{id:"Type-Of-Family",size:"small",children:"Family"}),Object(ze.jsxs)(Ct.a,{label:"Family",labelId:"Type-Of-Family",onChange:function(e){return function(e){u(e.target.value)}(e)},value:l,size:"small",children:[t&&t.map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)})),Object(ze.jsx)(Et.a,{value:0,children:"All"})]})]})})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)("br",{}),Object(ze.jsxs)(ye.a,{display:"flex",alignItems:"center",sx:{marginBottom:"10px"},children:[Object(ze.jsx)(_e.a,{variant:"h5",children:"Family : List"}),Object(ze.jsx)(ye.a,{sx:{flexGrow:1}}),Object(ze.jsx)(i,{})]}),Object(ze.jsx)(It.a,{component:Pt.a,sx:{boxShadow:"none",border:"1px solid #B3B6B7"},children:Object(ze.jsxs)(At.a,{sx:{minWidth:650},children:[Object(ze.jsx)(Nt.a,{children:Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{children:"Family"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Author"}),Object(ze.jsx)(Lt.a,{align:"left",children:" # genera"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Action"})]})}),Object(ze.jsx)(Dt.a,{children:n&&n.filter((function(e,t,n){return n.map((function(e){return e.family_id})).indexOf(e.family_id)===t})).filter((function(e){return 0==l||e.family_id==l})).map((function(e,t){return Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{children:e.family}),Object(ze.jsx)(Lt.a,{align:"left",children:e.author}),Object(ze.jsx)(Lt.a,{align:"left",children:(r=e.family_id,n.filter((function(e){return e.family_id===r})).filter((function(e,t,n){return n.map((function(e){return e.genus_id})).indexOf(e.genus_id)===t})).length)}),Object(ze.jsxs)(Lt.a,{align:"left",children:[" ",Object(ze.jsx)(Bt.a,{sx:{cursor:"pointer"},onClick:function(){a("genus",e.family_id)},underline:"hover",children:"Genera"})]})]},t);var r}))})]})})]})})})},Wt=Object(je.a)(),Rt=function(e){var t=e.family,n=e.genus,a=e.detail,i=(e.species,e.ToNext),s=e.id,o=e.ButtonStack,l=Object(r.useState)(0),u=Object(ge.a)(l,2),d=u[0],j=u[1],b=function(e){return a.filter((function(t){return t.genus_id===e})).filter((function(e,t,n){return n.map((function(e){return e.species_id})).indexOf(e.species_id)===t})).length};return Object(ze.jsx)(c.a.Fragment,{children:Object(ze.jsx)(pe.a,{theme:Wt,children:Object(ze.jsxs)(be.a,{injectFirst:!0,children:[Object(ze.jsxs)(ye.a,{sx:{display:"flex",alignItems:"center"},children:[Object(ze.jsx)(_e.a,{variant:"h6",component:"div",children:"Filter type"}),Object(ze.jsx)(ye.a,{sx:{flexGrow:.02}}),Object(ze.jsx)(ye.a,{sx:{width:160},children:Object(ze.jsxs)(_t.a,{fullWidth:!0,children:[Object(ze.jsx)(Ft.a,{id:"Type-Of-Genus",size:"small",children:"Genus"}),Object(ze.jsxs)(Ct.a,{label:"Genus",labelId:"Type-Of-Genus",onChange:function(e){return function(e){j(e.target.value)}(e)},value:d,size:"small",children:[n&&n.filter((function(e){return e.family_id==s})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)})),Object(ze.jsx)(Et.a,{value:0,children:"All"})]})]})})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)("br",{}),Object(ze.jsxs)(ye.a,{display:"flex",alignItems:"center",sx:{marginBottom:"10px"},children:[Object(ze.jsxs)(_e.a,{variant:"h5",children:["Family: ",t&&t.find((function(e){return e.id==s})).name]}),Object(ze.jsx)(ye.a,{sx:{flexGrow:1}}),Object(ze.jsx)(o,{})]}),Object(ze.jsx)(It.a,{component:Pt.a,sx:{boxShadow:"none",border:"1px solid #B3B6B7"},children:Object(ze.jsxs)(At.a,{sx:{minWidth:650},children:[Object(ze.jsx)(Nt.a,{children:Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{children:"Genus"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Author"}),Object(ze.jsx)(Lt.a,{align:"left",children:" # species"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Action"})]})}),Object(ze.jsxs)(Dt.a,{children:[console.log("detail",a),a&&a.filter((function(e,t,n){return n.map((function(e){return e.genus_id})).indexOf(e.genus_id)===t})).filter((function(e){return e.family_id===s})).filter((function(e){return 0==d||e.genus_id==d})).map((function(e,t){return Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{children:Object(ze.jsx)("i",{children:e.genus})}),Object(ze.jsx)(Lt.a,{align:"left",children:e.author}),Object(ze.jsx)(Lt.a,{align:"left",children:b(e.genus_id)}),Object(ze.jsx)(Lt.a,{children:Object(ze.jsx)(Bt.a,{sx:{cursor:"pointer"},onClick:function(){return i("species",e.genus_id)},underline:"hover",children:"species"})})]},t)}))]})]})})]})})})},Mt=Object(je.a)(),Ht=function(e){var t=e.genus,n=e.species,a=e.detail,i=e.id,s=e.location,o=e.ButtonStack,l=Object(r.useState)(0),u=Object(ge.a)(l,2),d=u[0],j=u[1];return Object(ze.jsx)(c.a.Fragment,{children:Object(ze.jsx)(pe.a,{theme:Mt,children:Object(ze.jsxs)(be.a,{injectFirst:!0,children:[Object(ze.jsxs)(ye.a,{sx:{display:"flex",alignItems:"center"},children:[Object(ze.jsx)(_e.a,{variant:"h6",component:"div",children:"Filter type"}),Object(ze.jsx)(ye.a,{sx:{flexGrow:.02}}),Object(ze.jsx)(ye.a,{sx:{width:160},children:Object(ze.jsxs)(_t.a,{fullWidth:!0,children:[Object(ze.jsx)(Ft.a,{id:"Type-Of-Species",size:"small",children:"Species"}),Object(ze.jsxs)(Ct.a,{label:"Species",labelId:"Type-Of-Species",onChange:function(e){return function(e){j(e.target.value)}(e)},value:d,size:"small",children:[n&&n.filter((function(e){return e.genus_id==i})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)})),Object(ze.jsx)(Et.a,{value:0,children:"All"})]})]})})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)("br",{}),Object(ze.jsxs)(ye.a,{display:"flex",alignItems:"center",sx:{marginBottom:"10px"},children:[Object(ze.jsxs)(_e.a,{variant:"h5",children:["Genus: ",t&&t.find((function(e){return e.id==i})).name]}),Object(ze.jsx)(ye.a,{sx:{flexGrow:1}}),Object(ze.jsx)(o,{})]}),Object(ze.jsx)(It.a,{component:Pt.a,sx:{boxShadow:"none",border:"1px solid #B3B6B7"},children:Object(ze.jsxs)(At.a,{sx:{minWidth:650},children:[Object(ze.jsx)(Nt.a,{children:Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{children:"Species"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Author"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Location"}),Object(ze.jsx)(Lt.a,{align:"left",children:"Action"})]})}),Object(ze.jsx)(Dt.a,{children:a&&a.filter((function(e){return e.genus_id===i})).filter((function(e){return 0==d||e.species_id==d})).map((function(e,t){return Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{children:Object(ze.jsx)("i",{children:"".concat(e.genus," ").concat(e.species)})}),Object(ze.jsx)(Lt.a,{align:"left",children:e.author}),Object(ze.jsx)(Lt.a,{align:"left",children:s&&s.find((function(t){return t.detail_id==e.id})).locality}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(Bt.a,{href:"detail/"+e.id,sx:{cursor:"pointer"},underline:"hover",children:"detail"})})]},t)}))})]})})]})})})},Ut=n(204),qt=n.n(Ut),Vt=function(e){var t=e.className,n=e.style,a=e.onClick,r=e.Comp;return Object(ze.jsx)(r,{className:t,style:Object(d.a)(Object(d.a)({},n),{},{display:"block",color:"#000000",fontSize:"2rem",borderRadius:"50px"}),onClick:a})},Jt=n(490),Kt=n(483),Yt=n(460),Xt=Object(je.a)(),Qt=Object(xe.a)((function(){return{}})),Zt=function(e){Qt();var t=e.positionName,n=e.province,a=e.family,r=e.genus,c=e.species;return Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:Xt,children:Object(ze.jsxs)(Jt.a,{disablePadding:!0,children:[Object(ze.jsx)(Kt.a,{disablePadding:!0,children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(_e.a,{variant:"body1",component:"span",children:[Object(ze.jsx)("b",{children:"Position name: "}),t]})})}),Object(ze.jsx)(Kt.a,{disablePadding:!0,children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(_e.a,{variant:"body1",component:"span",children:[Object(ze.jsx)("b",{children:"Province:"})," ",n]})})}),Object(ze.jsx)(Kt.a,{disablePadding:!0,children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(_e.a,{variant:"body1",component:"span",children:[Object(ze.jsx)("b",{children:"Family:"})," ",a]})})}),Object(ze.jsx)(Kt.a,{disablePadding:!0,children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(_e.a,{variant:"body1",component:"span",children:[Object(ze.jsx)("b",{children:"Genus:"})," ",Object(ze.jsx)("i",{children:r})]})})}),Object(ze.jsx)(Kt.a,{disablePadding:!0,children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(_e.a,{variant:"body1",component:"span",children:[Object(ze.jsx)("b",{children:"Species:"})," ",Object(ze.jsxs)("i",{children:[r," ",c]})]})})})]})})})},$t=Object(je.a)(),en=Object(xe.a)((function(){return{divider:{margin:$t.spacing(2,0)},dialog:{backgroundColor:"rgba(78, 255, 61, 0.5)"}}})),tn=function(){en();var e=Object(o.b)(),t=Object(o.c)((function(e){return e.family})).result,n=Object(o.c)((function(e){return e.genus})).result,a=Object(o.c)((function(e){return e.species})).result,c=Object(o.c)((function(e){return e.province})).result,i=Object(o.c)((function(e){return e.district})).result,s=Object(o.c)((function(e){return e.detail})).result,l=Object(o.c)((function(e){return e.location})).result,u=Object(o.c)((function(e){return e.address})).result,j=Object(o.c)((function(e){return e.auth})).user,b=Object(r.useState)(""),p=Object(ge.a)(b,2),x=p[0],h=p[1],f=Object(r.useState)(""),m=Object(ge.a)(f,2),O=m[0],g=m[1],v=Object(r.useState)(),y=Object(ge.a)(v,2),w=(y[0],y[1]),S=Object(r.useState)(),k=Object(ge.a)(S,2),_=k[0],F=k[1],C=Object(r.useState)([]),E=Object(ge.a)(C,2),A=E[0],L=E[1],D=Object(r.useState)([]),B=Object(ge.a)(D,2),T=B[0],G=B[1],W=Object(r.useState)([]),R=Object(ge.a)(W,2),M=R[0],H=R[1],U=Object(r.useState)([]),q=Object(ge.a)(U,2),V=q[0],J=q[1],K=Object(r.useState)(!1),Y=Object(ge.a)(K,2),X=Y[0],Q=Y[1],Z=Object(r.useState)(),$=Object(ge.a)(Z,2),ee=($[0],$[1],Object(r.useState)([{id:-1}])),te=Object(ge.a)(ee,2),ne=te[0],ae=te[1],re=Object(r.useState)(1),ce=Object(ge.a)(re,2),ie=ce[0],se=ce[1],oe=Object(r.useState)(!0),le=Object(ge.a)(oe,2),ue=le[0],je=le[1];Object(r.useEffect)(Object(Oe.a)(me.a.mark((function t(){return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e(Xe()),e(et()),e(kt()),e(dt()),e(rt()),e(nt()),e(function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ht.getAllLocation();case 3:(n=e.sent)&&t({type:I,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:P});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),e(function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,vt.getAllAddress();case 3:(n=e.sent)&&t({type:N,payload:n}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:z});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()),j&&console.log("id = ".concat(j.username)),w(u);case 10:case"end":return t.stop()}}),t)}))),[]);var xe=function(r){var i=function(e){var t=[];return e&&u&&e.map((function(e){u.filter((function(t){return t.location_id==e.id})).map((function(e){t.push(e)}))})),t}(r),o=[],l=!1,d=[],j=[],b=[],p=[];i.map((function(e,i){var u=r.find((function(t){return t.id===e.location_id})),x=s.find((function(e){return e.id==u.detail_id}))||!1;if((x||-1==p.map((function(e){return e.id})).indexOf(x.id))&&x&&(p.push(x),l=!0),l){var h=c.find((function(e){return e.id==u.province})),f=t.find((function(e){return e.id==x.family_id}));-1==d.map((function(e){return e.id})).indexOf(f.id)&&d.push(f);var m=n.find((function(e){return e.id==x.genus_id}));-1==j.map((function(e){return e.id})).indexOf(m.id)&&j.push(m);var O=a.find((function(e){return e.id==x.species_id}));-1==b.map((function(e){return e.id})).indexOf(O.id)&&b.push(O);var g={positionName:e.name,latitude:e.latitude,longitude:e.longitude,province:h.name_en,family:f.name,genus:m.name,species:O.name};o.push(g)}}));for(var x=function(){var e=[];return i.map((function(t){var n=e.map((function(e){return e.latitude})),a=e.map((function(e){return e.longitude}));-1==n.indexOf(t.latitude)&&-1==a.indexOf(t.longitude)&&e.push({latitude:t.latitude,longitude:t.longitude})})),e}(),h=function(e){var t=x[e].latitude,n=x[e].longitude;x[e].data=o.filter((function(e){return e.latitude==t&&e.longitude==n}))},f=0;f<x.length;f++)h(f);return e({type:"setDetail",payload:p}),G(d),H(j),J(b),L(p),x},fe=function(){var e="";je(!1),ae([{id:-1}]),se(1),e=x&&O?l.filter((function(e){return e.province==x&&e.district==O&&s.find((function(t){return t.id==e.detail_id}))})):x?l.filter((function(e){return e.province==x&&s.find((function(t){return t.id==e.detail_id}))})):O?l.filter((function(e){return e.district==O&&s.find((function(t){return t.id==e.detail_id}))})):l.filter((function(e){return s.find((function(t){return t.id==e.detail_id}))})),console.log("location_",e);var r=xe(e);Q(r),F(e);!function(e){var r=[];e&&s&&e.map((function(e){var c=s.find((function(t){return t.id==e.detail_id}));-1===r.map((function(e){return e.id})).indexOf(c.id)&&(c.family=t.find((function(e){return e.id==c.family_id})).name,c.genus=n.find((function(e){return e.id==c.genus_id})).name,c.species=a.find((function(e){return e.id==c.species_id})).name,r.push(c))}))}(e)},Le=function(e,t){var n=Object(he.a)(ne);"genus"==e?n[1]?n[1].id=t:n.push({id:t}):"species"==e&&(n[2]?n[2].id=t:n.push({id:t}),console.log("genus id ",t)),console.log("tmp show",n),se(ie+1),ae(n)},We=function(){return Object(ze.jsxs)(r.Fragment,{children:[Object(ze.jsx)(ve.a,{sx:{border:"1px solid #808080",borderRadius:"4px"},size:"small",disabled:1==ie,onClick:function(){se(ie-1)},children:Object(ze.jsx)(De.a,{fontSize:"small"})}),Object(ze.jsx)(ve.a,{sx:{marginLeft:"5px",border:"1px solid #808080",borderRadius:"4px"},size:"small",disabled:ie>=ne.length,onClick:function(){se(ie+1)},children:Object(ze.jsx)(Be.a,{fontSize:"small"})})]})},Re={dots:!0,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,initialSlide:1,adaptiveHeight:!1,nextArrow:Object(ze.jsx)(Vt,{Comp:Te.a}),prevArrow:Object(ze.jsx)(Vt,{Comp:Ge.a})};return Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:$t,children:Object(ze.jsx)(ye.a,{className:"page",children:Object(ze.jsxs)(de.a,{sx:{maxWidth:"lg"},children:[Object(ze.jsxs)(we.a,{container:!0,spacing:4,children:[Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Se.a,{in:ue,children:Object(ze.jsx)(ke.a,{icon:!1,sx:{textAlign:"center"},color:"info",children:"Click 'Show' to display spider species (\u0e04\u0e25\u0e34\u0e01 'Show' \u0e40\u0e1e\u0e37\u0e48\u0e2d\u0e41\u0e2a\u0e14\u0e07\u0e2a\u0e1b\u0e35\u0e0a\u0e35\u0e2a\u0e4c\u0e41\u0e21\u0e07\u0e21\u0e38\u0e21)"})})}),Object(ze.jsx)(we.a,{item:!0,sx:{width:"100%",display:"flex",alignItem:"center"},children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsx)(we.a,{item:!0,children:Object(ze.jsx)(_e.a,{variant:"h5",sx:{flexGrow:.05},children:"Filter location"})}),Object(ze.jsx)(we.a,{item:!0,children:Object(ze.jsx)(Fe.a,{disablePortal:!0,size:"small",onChange:function(e,t){h(t?t.id:"")},sx:{width:240},options:c?c.sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e){return e})):[""],getOptionLabel:function(e){return e.name_en+" ("+e.name_th+")"},renderInput:function(e){return Object(ze.jsx)(Ce.a,Object(d.a)(Object(d.a)({},e),{},{label:"Province (All)"}))}})}),Object(ze.jsx)(we.a,{item:!0,children:Object(ze.jsx)(Fe.a,{disablePortal:!0,size:"small",onChange:function(e,t){g(t?t.id:"")},sx:{width:240},options:x?i.filter((function(e){return e.province_id==x})).sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e){return e})):i?i.sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e){return e})):[""],getOptionLabel:function(e){return e.name_en+" ("+e.name_th+")"},renderInput:function(e){return Object(ze.jsx)(Ce.a,Object(d.a)(Object(d.a)({},e),{},{label:"district (All)"}))}})}),Object(ze.jsx)(we.a,{item:!0,children:Object(ze.jsx)(ye.a,{sx:{position:"relative"},children:Object(ze.jsx)(Ee.a,{variant:"outlined",sx:{minWidth:"100px",height:"40px",textTransform:"none"},onClick:function(){return fe()},children:"Show"})})})]})}),Object(ze.jsx)(we.a,{item:!0,sx:{height:"600px",width:"100%",margin:"20px"},children:Object(ze.jsx)(ye.a,{sx:{height:"100%",border:"1px solid #040404"},children:Object(ze.jsxs)(Ie.a,{className:"map-view",center:[13,100],zoom:5,children:[Object(ze.jsx)(Pe.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),X?X.map((function(e,t){return Object(ze.jsx)(Ae.a,{position:[e.latitude,e.longitude],children:e.data.length>1?Object(ze.jsx)(Ne.a,{style:{width:"480px"},children:Object(ze.jsx)(qt.a,Object(d.a)(Object(d.a)({},Re),{},{children:e.data.map((function(e,t){return Object(ze.jsx)(Zt,{positionName:e.positionName,province:e.province,family:e.family,genus:e.genus,species:e.species},t)}))}))}):Object(ze.jsx)(Ne.a,{children:Object(ze.jsx)(Zt,{positionName:e.data[0].positionName,province:e.data[0].province,family:e.data[0].family,genus:e.data[0].genus,species:e.data[0].species})})},t)})):""]})})})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)("br",{}),Object(ze.jsx)("div",{children:1==ie?Object(ze.jsx)("div",{children:Object(ze.jsx)(Gt,{family:T,genus:M,detail:A,ToNext:Le,ButtonStack:We})}):2==ie?Object(ze.jsx)("div",{children:Object(ze.jsx)(Rt,{genus:M,species:V,detail:A,id:ne[1].id,family:T,ToNext:Le,ButtonStack:We})}):3==ie&&Object(ze.jsx)("div",{children:Object(ze.jsx)(Ht,{genus:M,species:V,detail:A,id:ne[2].id,family:T,location:_,ButtonStack:We})})}),Object(ze.jsx)(ye.a,{sx:{marginBottom:"25vh"}})]})})})})},nn=n(506),an=n(504),rn=n(491),cn=n(503),sn=n(505),on=n(507),ln=n(16),un=n(79),dn=n(207),jn=n.n(dn),bn=n(208),pn=n.n(bn),xn=He()("http://localhost:8080/api/","auth"),hn=function(e,t){return Re.a.post(He()(xn,"signin"),{username:e,password:t}).then((function(e){return e.data.accessToken&&(localStorage.setItem("user",JSON.stringify(e.data)),console.log("set local storage")),console.log("data ".concat(e.data)),e.data}))},fn=function(){localStorage.removeItem("user")},mn=Object(je.a)(),On=Object(xe.a)({root:{display:"flex",justifyContent:"center"},rootCard:{width:345,marginTop:100},showPassword:{position:"absolute",justifyContent:"center"},submit:{backgroundColor:"#0090CB"}}),gn=function(e){var t={};return e.username||(t.username="Required"),e.password||(t.password="Required"),t},vn=function(e){var t=e.isSubmitting,n=e.values,a=e.handleChange,c=e.error,i=Object(r.useState)(!1),s=Object(ge.a)(i,2),o=s[0],l=s[1];return Object(ze.jsxs)(_t.a,{variant:"outlined",style:{width:"100%",marginTop:8},error:c,fullWidth:!0,margin:"normal",size:"small",children:[Object(ze.jsx)(Ft.a,{htmlFor:"outlined-adornment-password",children:"Password"}),Object(ze.jsx)(rn.a,{disabled:t,label:"Password",name:"password",id:"password",type:o?"text":"password",value:n.password,onChange:a,endAdornment:Object(ze.jsx)(cn.a,{position:"end",children:Object(ze.jsx)(ve.a,{"aria-label":"toggle password visibility",onClick:function(){l(!o)},onMouseDown:function(e){e.preventDefault()},edge:"end",size:"large",children:n.showPassword?Object(ze.jsx)(jn.a,{}):Object(ze.jsx)(pn.a,{})})})})]})},yn=Object(an.a)((function(){return{root:{marginTop:10,color:mn.palette.getContrastText(un.a[500]),backgroundColor:un.a[500],"&:hover":{backgroundColor:un.a[700]}}}}))(Ee.a),wn=function(e){var t=On(),n=Object(o.b)(),a=Object(r.useState)(null),c=Object(ge.a)(a,2),i=c[0],s=c[1],l=Object(o.c)((function(e){return e.auth})).user;Object(r.useEffect)((function(){l&&e.history.push("/")}),[]);var u=function(e){s(e)};return Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:mn,children:Object(ze.jsx)("div",{className:t.root,children:Object(ze.jsxs)(sn.a,{className:t.rootCard,children:[Object(ze.jsx)(nn.a,{style:{textAlign:"center"},title:"Login"}),Object(ze.jsxs)(on.a,{children:[i&&Object(ze.jsx)(_e.a,{sx:{fontSize:14},style:{color:"#C82626"},gutterBottom:!0,children:i}),Object(ze.jsx)(ln.d,{onSubmit:function(t,a){a.setSubmitting;var r,c,i=a.resetForm;n((r=t.username,c=t.password,function(e){return hn(r,c).then((function(t){return e({type:M,payload:{user:t}}),Promise.resolve}),(function(t){var n=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();return e({type:H}),Promise.reject(n)}))})).then((function(){u(!1),e.history.push("/"),window.location.reload()})).catch((function(e){i(),u(e)}))},initialValues:{username:"",password:"",showPassword:!1},validate:gn,children:function(e){return function(e){var n=e.values,a=e.errors,r=e.handleChange,c=e.handleSubmit,i=(e.setFieldValue,e.isSubmitting);return e.handleClickShowPassword,e.handleMouseDownPassword,Object(ze.jsxs)("form",{onSubmit:c,children:[Object(ze.jsx)(Ce.a,{variant:"outlined",margin:"normal",size:"small",fullWidth:!0,id:"username",name:"username",label:"Username",onChange:r,value:n.username,autoFocus:!0,error:a.username,disabled:i}),a.username&&Object(ze.jsx)(_e.a,{style:{color:"#C82626"},children:a.username}),Object(ze.jsx)(vn,{isSubmitting:i,values:n,handleChange:r,name:"password",error:a.password}),a.password&&Object(ze.jsx)(_e.a,{style:{color:"#C82626"},children:a.password}),Object(ze.jsx)(yn,{type:"submit",fullWidth:!0,variant:"contained",disabled:i,className:t.submit,children:" Sign In"})]})}(e)}})]})]})})})})},Sn=n(470),kn=(n(172),n(484)),_n=n(468),Fn=n(469),Cn=n(467),En=n(153),In=(n(393),function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services paper",t),e.next=3,Ve.post("paper/postPaper",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Pn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services paper",t),e.next=3,Ve.post("paper/updatePaper",{data:t}).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),An={postPaper:In,getPaper:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("paper/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updatePaper:Pn,getPaperAdmin:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("admin/paper/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Nn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("services image",t),e.next=3,Ve.post("image/postImage",t).then((function(e){return e.data}));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.post("image/updateImage",{data:t}).then((function(e){return e.data}));case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ln={postImage:Nn,getImage:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("image/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getImageAdmin:function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve.get("admin/image/"+t).then((function(e){return e.data}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateImage:zn},Dn=function(){var e=Object(Oe.a)(me.a.mark((function e(t,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",$e.postGenus({family_id:t,name:n}).then((function(e){return e.insertId})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bn=function(){var e=Object(Oe.a)(me.a.mark((function e(t,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",St.postSpecies({genus_id:t,name:n}).then((function(e){return e.insertId})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut.postDetail(t).then((function(e){return e.insertId})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Gn=function(){var e=Object(Oe.a)(me.a.mark((function e(t,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.detail_id=n,e.abrupt("return",ht.postLocation(t).then((function(e){return e.insertId})));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wn=function(){var e=Object(Oe.a)(me.a.mark((function e(t,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.location_id=n,t.latitude=parseFloat(t.latitude),t.longitude=parseFloat(t.longitude),e.abrupt("return",vt.postAddress(t).then((function(e){return e.insertId})));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(Oe.a)(me.a.mark((function e(t,n){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.detail_id=n,console.log("check paper",t),e.abrupt("return",An.postPaper(t).then((function(e){return e.insertId})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Mn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln.postImage(t).then((function(e){return e.insertId})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut.updateDetailType(t).then((function(e){return t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Un=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ut.updateDetail(t).then((function(e){return t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht.updateLocation(t).then((function(e){return t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vt.updateAddress(t).then((function(e){return t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Jn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",An.updatePaper(t).then((function(e){return t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kn=function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ln.updateImage(t).then((function(e){return t.id})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Yn=n(21),Xn=Yn.c().shape({data:Yn.c().shape({family:Yn.d().required("Please specify"),genus:Yn.d().required("Please specify"),species:Yn.d().required("Please specify"),author:Yn.d().required("Please specify"),publish_year:Yn.d().required("Please specify"),country:Yn.d().required("Please specify"),country_other:Yn.d().required("Please specify"),altitude:Yn.d().required("Please specify"),method:Yn.d().required("Please specify"),habitat:Yn.d().required("Please specify"),microhabitat:Yn.d().required("Please specify"),designate:Yn.d().required("Please specify"),location:Yn.a(Yn.c().shape({province:Yn.b().required("Please specify"),district:Yn.b().required("Please specify"),locality:Yn.d().required("Please specify"),address:Yn.a(Yn.c().shape({name:Yn.d().required("Please specify"),latitude:Yn.b().required("Please specify"),longitude:Yn.b().required("Please specify")}))})),paper:Yn.a(Yn.c().shape({name:Yn.d().required("Please specify")}))})}),Qn=n(466),Zn=n(471),$n=n(472),ea=n(473),ta=Object(je.a)(),na=Object(xe.a)((function(){return{paper:{padding:"10px",boxShadow:"none",border:"1px solid #B3B6B7"},divider:{marginTop:"10px"},placeholder:{width:"100%",height:"100%",display:"flex",address:"absolute",alignItems:"center",flexDirection:"column",justifyContent:"center",color:"rgb(99, 115, 129)",backgroundColor:"rgb(244, 246, 248)",transition:"opacity 200ms cubic-bezier(0.4, 0, 0.2, 1) 0ms"},placeholderImageProfile:{color:"rgb(255, 255, 255)",backgroundColor:"rgba(22, 28, 36, .50)"},placeholderLabel:{color:"rgb(255, 255, 255)"},form:{}}})),aa=function(){var e=Object(r.useState)([]),t=Object(ge.a)(e,2),n=t[0],a=t[1],c=na(),i=Object(o.b)(),s=Object(r.useRef)(),l=Object(r.useState)(!1),u=Object(ge.a)(l,2),j=u[0],b=u[1],p=Object(r.useState)(!1),x=Object(ge.a)(p,2),h=x[0],f=(x[1],Object(o.c)((function(e){return e.family})).result),m=Object(o.c)((function(e){return e.genus})).result,O=Object(o.c)((function(e){return e.species})).result,g=Object(o.c)((function(e){return e.province})).result,v=Object(o.c)((function(e){return e.district})).result,y=Object(r.useState)({showFamily:!0,showGenus:!0,showSpecies:!0}),w=Object(ge.a)(y,2),S=w[0],k=(w[1],Object(r.useState)({family:"",genus:"",species:"",author:"",publish_year:"",country:"Thailand",country_other:"",altitude:"",method:"",habitat:"",microhabitat:"",designate:"",location:[{province:"",district:"",locality:"",address:[{name:"",latitude:"",longitude:""}]}],paper:[{name:""}]})),_=Object(ge.a)(k,1)[0],F=Object(r.useState)([{name:"",latitude:"",longitude:""}]),C=Object(ge.a)(F,2),E=(C[0],C[1],Object(r.useState)([])),I=Object(ge.a)(E,2),P=I[0],A=I[1],N=Object(r.useState)(),z=Object(ge.a)(N,2),L=z[0],D=z[1];Object(r.useEffect)((function(){i(Xe()),i(et()),i(kt()),i(nt()),i(rt());!function(){var e=[],t=(new Date).getFullYear();console.log("now year : ".concat(t));for(var n=t;n>t-100;n--)e.push(n);a([].concat(e))}()}),[]);var B=Object(r.useCallback)((function(e){var t=new FormData;e.map((function(e){return t.append("image",e)})),A(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),D(e)}),[]),T=Object(En.a)({accept:"image/jpeg, image/png",onDrop:B,maxFiles:20}),G=T.getRootProps,W=T.getInputProps,R=(T.isDragActive,P.map((function(e){return Object(ze.jsx)("img",{src:e.preview,className:c.uploadImage},e.name)}))),M=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a,r,c,i,s,o;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t,a=f.find((function(e){return e.id==Number(t.family)||e.name==t.family})),r=m.find((function(e){return e.id==Number(t.genus)||e.name==t.genus})),c=O.find((function(e){return e.id==Number(t.species)||e.name==t.species})),!a){e.next=8;break}n.family=a.id,e.next=11;break;case 8:return e.next=10,l=n.family,Ye.postFamily(l).then((function(e){return e.insertId}));case 10:n.family=e.sent;case 11:if(!r){e.next=15;break}n.genus=r.id,e.next=18;break;case 15:return e.next=17,Dn(n.family,n.genus);case 17:n.genus=e.sent;case 18:if(!c){e.next=22;break}n.species=c.id,e.next=25;break;case 22:return e.next=24,Bn(n.genus,n.species);case 24:n.species=e.sent;case 25:return i={family_id:n.family,genus_id:n.genus,species_id:n.species,author:n.author,publish_year:n.publish_year,country:n.country,country_other:n.country_other,altitude:n.altitude,method:n.method,habitat:n.habitat,microhabitat:n.microhabitat,designate:n.designate},e.next=28,Tn(i);case 28:return s=e.sent,o=n.location,console.log("location ",o),o.map(function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.address,delete t.address,e.next=4,Gn(t,s);case 4:a=e.sent,n.map(function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Wn(t,a);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.paper.map(function(){var e=Object(Oe.a)(me.a.mark((function e(t){return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn(t,s);case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),L&&L.map((function(e){var t=new FormData;t.append("image",e),t.append("detail_id",s);Mn(t)})),e.abrupt("return",s);case 36:case"end":return e.stop()}var l}),e)})));return function(t){return e.apply(this,arguments)}}(),H=function(e){13===(e.charCode||e.keyCode)&&e.preventDefault()};return Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:ta,children:Object(ze.jsx)("div",{className:"page",children:Object(ze.jsx)(de.a,{maxWidth:"lg",children:Object(ze.jsxs)(Pt.a,{className:c.paper,children:[Object(ze.jsx)(Se.a,{in:j,children:Object(ze.jsx)(ke.a,{action:Object(ze.jsx)(ve.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){b(!1),window.location.reload()},children:Object(ze.jsx)(Qn.a,{fontSize:"inherit"})}),children:"success !"})}),Object(ze.jsx)(ln.d,{initialValues:{data:_,status:S,submit:h},enableReinitialize:!0,innerRef:s,validationSchema:Xn,onSubmit:function(e,t){console.log("submit");try{console.log("submit"),M(e.data).then((function(e){b(!0),window.scrollTo(0,0)}))}catch(n){console.log(n)}},children:function(e){var t=e.values,a=e.errors;e.isSubmitting,e.touched,e.handleBlur,e.setFieldValue;return Object(ze.jsxs)(ln.c,{autoComplete:"off",className:c.form,onKeyDown:H,children:[Object(ze.jsxs)(we.a,{container:!0,style:{padding:"20px"},spacing:2,children:[Object(ze.jsx)(we.a,{item:!0,xs:6,children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(_e.a,{variant:"h5",gutterBottom:!0,children:"Family action"})}),Object(ze.jsxs)(we.a,{item:!0,xs:4,className:"family",children:[Object(ze.jsxs)(Cn.a,{style:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Family"}),Object(ze.jsx)("div",{style:{flexGrow:1}}),Object(ze.jsx)(ln.a,{component:kn.a,type:"checkbox",name:"status.showFamily"})]}),t.status.showFamily?Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",name:"data.family",children:f&&f.map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)}))}):Object(ze.jsx)(ln.a,{component:Fn.a,name:"data.family",size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:4,className:"genus",children:[Object(ze.jsxs)(Cn.a,{style:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Genus"}),Object(ze.jsx)("div",{style:{flexGrow:1}}),Object(ze.jsx)(ln.a,{component:kn.a,type:"checkbox",name:"status.showGenus"})]}),t.status.showGenus?Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",id:"data.genus",name:"data.genus",children:m&&m.filter((function(e){return e.family_id===Number(t.data.family)})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)}))}):Object(ze.jsx)(ln.a,{component:Fn.a,name:"data.genus",size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:4,className:"species",children:[Object(ze.jsxs)(Cn.a,{style:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Species"}),Object(ze.jsx)("div",{style:{flexGrow:1}}),Object(ze.jsx)(ln.a,{component:kn.a,type:"checkbox",name:"status.showSpecies"})]}),t.status.showSpecies?Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",id:"data.species",name:"data.species",children:O&&O.filter((function(e){return e.genus_id===Number(t.data.genus)})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)}))}):Object(ze.jsx)(ln.a,{component:Fn.a,name:"data.species",size:"small"})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Sn.a,{})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(_e.a,{variant:"h5",gutterBottom:!0,children:"Detail"})}),Object(ze.jsxs)(we.a,{item:!0,xs:9,className:"author",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"Author"}),Object(ze.jsx)(ln.a,{name:"data.author",component:Fn.a,fullWidth:!0,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:3,className:"year",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"publish year"}),Object(ze.jsx)(ln.a,{name:"data.publish_year",component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",MenuProps:{PaperProps:{sx:{maxHeight:300}}},children:n&&n.map((function(e,t){return Object(ze.jsx)(Et.a,{value:e,children:e},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:3,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Country"}),Object(ze.jsx)(ln.a,{name:"data.country",component:Fn.a,disabled:!0,fullWidth:!0,value:t.data.country,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:9,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Other country"}),Object(ze.jsx)(ln.a,{name:"data.country_other",component:Fn.a,fullWidth:!0,size:"small",placeholder:"if any"})]})]})}),Object(ze.jsxs)(we.a,{item:!0,xs:6,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",gutterBottom:!0,children:"Map monitor"}),Object(ze.jsx)("div",{className:"map",style:{height:"100%"},children:Object(ze.jsx)(Le,{listEx:t.data.location})})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Altitude"}),Object(ze.jsx)(ln.a,{name:"data.altitude",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Method"}),Object(ze.jsx)(ln.a,{name:"data.method",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"habitat"}),Object(ze.jsx)(ln.a,{name:"data.habitat",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"microhabitat"}),Object(ze.jsx)(ln.a,{name:"data.microhabitat",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Designate"}),Object(ze.jsx)(ln.a,{name:"data.designate",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Sn.a,{style:{marginTop:"1rem"}})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(ln.b,{name:"data.location",children:function(e){var n=e.push,a=(e.pop,e.remove);return Object(ze.jsx)(r.Fragment,{children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(ze.jsx)(Ee.a,{variant:"outlined",size:"small",color:"success",onClick:function(){return n({province:"",district:"",locality:"",address:[{name:"",latitude:"",longitude:""}]})},children:"Add location"}),Object(ze.jsx)(we.a,{item:!0,xs:12})]}),t.data.location&&t.data.location.map((function(e,n){return Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(Pt.a,{sx:{padding:"10px",paddingBottom:"15px"},children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsxs)(_e.a,{varaint:"subtitle1",children:["Location ",n+1,"."]})}),Object(ze.jsxs)(we.a,{item:!0,xs:3,className:"province",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"Province"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},MenuProps:{PaperProps:{sx:{maxHeight:500}}},size:"small",id:"data.location[".concat(n,"].province"),name:"data.location[".concat(n,"].province"),children:g&&g.sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name_en},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:3,className:"district",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"District"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},MenuProps:{PaperProps:{sx:{maxHeight:500}}},size:"small",id:"data.location[".concat(n,"].district"),name:"data.location[".concat(n,"].district"),children:v&&v.filter((function(e){return e.province_id==t.data.location[n].province})).sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name_en},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:6,className:"locality",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"Locality"}),Object(ze.jsxs)(Cn.a,{style:{display:"flex"},children:[Object(ze.jsx)(ln.a,{name:"data.location[".concat(n,"].locality"),component:Fn.a,size:"small",fullWidth:!0}),Object(ze.jsx)("div",{style:{flexGrow:1}}),Object(ze.jsx)(ve.a,{color:"error",sx:{marginLeft:"1rem"},onClick:function(){t.data.location.length>1&&a(n)},children:Object(ze.jsx)(Zn.a,{})})]})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(ln.b,{name:"data.location[".concat(n,"].address"),children:function(e){var a=e.push,r=e.remove;return Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",gutterBottom:!0,children:"address"}),Object(ze.jsx)(Ee.a,{sx:{marginLeft:"2rem"},color:"success",variant:"outlined",size:"small",onClick:function(){a({name:"",latitude:"",longitude:""})},children:"Add"})]}),t.data.location[n].address&&t.data.location[n].address.map((function(e,a){return Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(ze.jsxs)(we.a,{item:!0,xs:4,sx:{display:"flex",alignItems:"flex-end"},children:[Object(ze.jsxs)(_e.a,{varaint:"subtitle1",gutterBottom:!0,sx:{marginRight:"1rem"},children:[a+1,"."]}),Object(ze.jsx)(Cn.a,{sx:{flexGrow:1}}),Object(ze.jsx)(ln.a,{name:"data.location[".concat(n,"].address[").concat(a,"].name"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Name"})]}),Object(ze.jsx)(we.a,{item:!0,xs:3,children:Object(ze.jsx)(ln.a,{name:"data.location[".concat(n,"].address[").concat(a,"].latitude"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Latitude"})}),Object(ze.jsx)(we.a,{item:!0,xs:3,children:Object(ze.jsx)(ln.a,{name:"data.location[".concat(n,"].address[").concat(a,"].longitude"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Longitude"})}),Object(ze.jsx)(we.a,{item:!0,xs:1,children:Object(ze.jsx)(ve.a,{color:"error",onClick:function(){t.data.location[n].address.length>1&&r(a)},children:Object(ze.jsx)($n.a,{})})})]})},a)}))]})}})})]})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Sn.a,{style:{marginTop:"1rem"}})})]},n)}))]})})}})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(ln.b,{name:"data.paper",children:function(e){var n=e.push,a=e.remove;return Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:12,sx:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Paper Ref"}),Object(ze.jsx)(Ee.a,{sx:{marginLeft:"2rem"},color:"success",variant:"outlined",size:"small",onClick:function(){return n({name:""})},children:"Add"})]}),t.data.paper&&t.data.paper.map((function(e,n){return Object(ze.jsxs)(we.a,{item:!0,xs:4,sx:{display:"flex",alignItems:"flex-end"},children:[Object(ze.jsxs)(_e.a,{varaint:"subtitle1",gutterBottom:!0,sx:{marginRight:"1rem"},children:[n+1,"."]}),Object(ze.jsx)(ln.a,{name:"data.paper[".concat(n,"].name"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Paper name"}),Object(ze.jsx)(ve.a,{color:"error",onClick:function(){t.data.paper.length>1&&a(n)},children:Object(ze.jsx)($n.a,{})})]},n)}))]})}})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Sn.a,{style:{marginTop:"1rem"}})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(_e.a,{variant:"subtitle1",gutterBottom:!0,children:"Upload image"})}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(Cn.a,{sx:{margin:"1rem"},children:Object(ze.jsx)(Cn.a,Object(d.a)(Object(d.a)({},G({className:"dropzone"})),{},{children:Object(ze.jsxs)(Cn.a,{className:"inner-dropzone",children:[Object(ze.jsx)("input",Object(d.a)({},W())),Object(ze.jsx)(r.Fragment,{children:R}),Object(ze.jsxs)("div",{className:"placeholder ".concat(c.placeholder," ").concat(0!=P.length&&c.placeholderImageProfile),children:[Object(ze.jsx)(ea.a,{}),Object(ze.jsx)(_e.a,{style:{marginTop:8,backgroundColor:"transparent"},className:"".concat(0!=P&&c.placeholderLabel),variant:"body2",children:"Upload Photo"})]})]})}))}),Object(ze.jsx)(Ee.a,{variant:"text",size:"small",color:"error",onClick:function(){return A([])},children:"Clear"})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Sn.a,{style:{marginTop:"1rem"}})}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Ee.a,{type:"submit",variant:"outlined",color:"primary",children:"Submit"})})]}),Object(ze.jsx)(Cn.a,{style:{display:"flex"},children:Object(ze.jsx)("pre",{children:JSON.stringify({values:t,errors:a},null,4)})})]})}})]})})})})})},ra=Object(je.a)(),ca=Object(xe.a)((function(){return{root:{padding:"20px",width:"100%",boxShadow:"none",border:"1px solid #B3B6B7"}}})),ia=function(e){var t=ca(),n=Object(o.b)(),a=Object(o.c)((function(e){return e.province})).result,c=Object(o.c)((function(e){return e.district})).result,i=Object(r.useState)(),s=Object(ge.a)(i,2),l=s[0],u=s[1];return Object(r.useEffect)(Object(Oe.a)(me.a.mark((function t(){var a,r,c,i,s,o,d,j,b;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.match.params.id,null!=l||!a){t.next=45;break}if(!a){t.next=8;break}return t.next=5,ut.getDetail(a);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=!1;case 9:if(!(r=t.t0)){t.next=45;break}return t.next=13,Ln.getImage(a);case 13:return c=t.sent,r.image=c,t.next=17,Ye.getFamily(r.family_id);case 17:return i=t.sent,r.family=i[0].name,t.next=21,$e.getGenus(r.genus_id);case 21:return s=t.sent,r.genus=s[0].name,t.next=25,St.getSpecies(r.species_id);case 25:return o=t.sent,r.species=o[0].name,t.next=29,ht.getLocation(a);case 29:d=t.sent,j=0;case 31:if(!(j<d.length)){t.next=38;break}return t.next=34,vt.getAddress(d[j].id);case 34:d[j].address=t.sent;case 35:j++,t.next=31;break;case 38:return r.location=d,t.next=41,An.getPaper(a);case 41:b=t.sent,r.paper=b,console.log("tmp",r),u(r);case 45:n(nt()),n(rt());case 47:case"end":return t.stop()}}),t)}))),[l]),Object(ze.jsx)("div",{className:"page",children:Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:ra,children:l&&Object(ze.jsx)(de.a,{maxWidth:"lg",children:Object(ze.jsxs)(Pt.a,{className:t.root,children:[Object(ze.jsx)(_e.a,{variant:"h4",component:"div",gutterBottom:!0,children:"Document detail"}),Object(ze.jsx)("br",{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h5",component:"div",gutterBottom:!0,children:"Type"}),Object(ze.jsxs)(Cn.a,{sx:{paddingLeft:"20px"},children:[Object(ze.jsxs)(_e.a,{variant:"h6",component:"div",children:[Object(ze.jsx)("b",{children:"Family:"})," ",l.family]}),Object(ze.jsxs)(_e.a,{variant:"h6",component:"div",children:[Object(ze.jsx)("b",{children:"Genus:"})," ",Object(ze.jsx)("i",{children:l.genus})]}),Object(ze.jsxs)(_e.a,{variant:"h6",component:"div",children:[Object(ze.jsx)("b",{children:"Species:"})," ",Object(ze.jsx)("i",{children:"".concat(l.genus," ").concat(l.species)})]}),Object(ze.jsx)(Cn.a,{sx:{marginLeft:"20px"}})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h5",gutterBottom:!0,children:"Detail"}),Object(ze.jsxs)(we.a,{container:!0,spacing:2,sx:{paddingLeft:"20px"},children:[Object(ze.jsx)(we.a,{item:!0,xs:12,md:4,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Author:"})," ",l.author]})}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:8,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Publish year:"})," ",l.publish_year]})}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:4,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Country:"})," ",l.country]})}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:8,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Other country:"})," ",l.country_other]})})]}),Object(ze.jsx)("br",{}),Object(ze.jsxs)(Cn.a,{sx:{paddingLeft:"20px"},children:[Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Altitude: "})," ",l.altitude]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Method: "})," ",l.method]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Habitat: "})," ",l.habitat]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Microhabitat: "})," ",l.microhabitat]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Designate: "})," ",l.designate]})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h5",gutterBottom:!0,children:"Place to meet"}),Object(ze.jsx)(Jt.a,{children:l.location.map((function(e,t){return Object(ze.jsx)(Kt.a,{disablePadding:!0,sx:{paddingLeft:"20px"},children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(we.a,{container:!0,justifyContent:"space-between",children:[Object(ze.jsx)(we.a,{item:!0,xs:12,md:6,lg:3,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Province: "})," ",a&&a.find((function(t){return t.id==parseInt(e.province)})).name_en]})}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:6,lg:3,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"District: "})," ",c&&c.find((function(t){return t.id==parseInt(e.district)})).name_en]})}),Object(ze.jsxs)(we.a,{item:!0,xs:12,md:6,lg:3,children:[Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Locality: "})," ",e.locality]}),Object(ze.jsx)("br",{})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:6,lg:3,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Position: "})," ",e.address.map((function(e){return e.name+", "}))]})})]})})},t)}))}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h5",gutterBottom:!0,children:"Reference"}),Object(ze.jsx)(Cn.a,{sx:{paddingLeft:"20px"},children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Paper referance: "})," ",l.paper.map((function(e){return e.name+", "}))]})}),Object(ze.jsx)("br",{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h5",gutterBottom:!0,children:"Picture"}),l.image.map((function(e,t){return Object(ze.jsx)("img",{src:"/".concat(e.path),style:{maxHeight:"420px",width:"auto",margin:"5px",padding:"5px",border:"1px solid #b8b8b8"}},t)})),Object(ze.jsx)("br",{})]})})})})})},sa=n(508),oa=n(474),la=n(509),ua=Object(je.a)(),da=Object(xe.a)((function(){return{root:{padding:"20px",boxShadow:"none",border:"1px solid #B3B6B7"},deleteBg:{backgroundColor:"rgba(255, 36, 29, 0.4)"}}})),ja=function(){var e=da(),t=Object(o.b)(),n=Object(o.c)((function(e){return e.detail})).result,a=Object(o.c)((function(e){return e.family})).result,c=Object(o.c)((function(e){return e.genus})).result,i=Object(o.c)((function(e){return e.species})).result,s=Object(o.c)((function(e){return e.province})).result,l=Object(o.c)((function(e){return e.district})).result,u=Object(r.useState)(!1),d=Object(ge.a)(u,2),j=d[0],b=d[1],p=Object(r.useState)(-1),x=Object(ge.a)(p,2),h=x[0],f=x[1],m=Object(r.useState)(null),O=Object(ge.a)(m,2),g=O[0],v=O[1];Object(r.useEffect)((function(){t(Xe()),t(et()),t(kt()),t(nt()),t(rt()),t(dt()),null==g&&function(){var e=Object(Oe.a)(me.a.mark((function e(){var t;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut.getAllDetailAdmin();case 2:t=e.sent,v(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[g]);var y=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var r,s,o;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=n.find((function(e){return e.id==t}))).family=a.find((function(e){return e.id==r.family_id})).name,r.genus=c.find((function(e){return e.id==r.genus_id})).name,r.species=i.find((function(e){return e.id==r.species_id})).name,e.next=6,ht.getLocation(r.id);case 6:s=e.sent,o=0;case 8:if(!(o<s.length)){e.next=15;break}return e.next=11,vt.getAddress(s[o].id);case 11:s[o].address=e.sent;case 12:o++,e.next=8;break;case 15:return r.location=s,e.next=18,Ln.getImage(r.id);case 18:return r.image=e.sent,e.next=21,An.getPaper(r.id);case 21:return r.paper=e.sent,e.abrupt("return",r);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:n=e.sent,f(n),b(!0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(he.a)(g),a=n.map((function(e){return e.id})).indexOf(t),n[a].active=0,!1,e.next=6,Un(n[a]);case 6:e.sent==t&&v(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(he.a)(g),a=n.map((function(e){return e.id})).indexOf(t),n[a].active=1,console.log("detail",n[a]),!1,e.next=7,Un(n[a]);case 7:e.sent==t&&v(n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ze.jsx)("div",{className:"page",children:Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:ua,children:Object(ze.jsxs)(de.a,{maxWidth:"xl",children:[Object(ze.jsx)(Pt.a,{className:e.root,children:Object(ze.jsx)(It.a,{children:Object(ze.jsxs)(At.a,{stickyHeader:!0,children:[Object(ze.jsx)(Nt.a,{children:Object(ze.jsxs)(zt.a,{children:[Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{varaint:"subtitle1",gutterBottom:!0,component:"div",children:"# id"})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{varaint:"subtitle1",gutterBottom:!0,component:"div",children:"Family"})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{varaint:"subtitle1",gutterBottom:!0,component:"div",children:"Genus"})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{varaint:"subtitle1",gutterBottom:!0,component:"div",children:"Species"})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{varaint:"subtitle1",gutterBottom:!0,component:"div",children:"Author"})}),Object(ze.jsx)(Lt.a,{align:"center",children:Object(ze.jsx)(_e.a,{varaint:"subtitle1",gutterBottom:!0,component:"div",children:"Action"})})]})}),Object(ze.jsx)(Dt.a,{children:g&&g.map((function(t,n){return Object(ze.jsxs)(zt.a,{className:0==t.active&&e.deleteBg,children:[Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(Bt.a,{underline:"hover",sx:{cursor:"pointer"},onClick:function(){w(t.id)},children:t.id})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:a&&a.find((function(e){return e.id==t.family_id})).name})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:c&&c.find((function(e){return e.id==t.genus_id})).name})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:i&&i.find((function(e){return e.id==t.species_id})).name})}),Object(ze.jsx)(Lt.a,{align:"left",children:Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:t.author})}),Object(ze.jsx)(Lt.a,{align:"center",children:Object(ze.jsxs)(Cn.a,{sx:{display:"flex",alignItems:"center",justifyContent:"space-around"},children:[Object(ze.jsx)(Ee.a,{size:"small",variant:"contained",color:"warning",onClick:function(){return w(t.id)},href:"/editDetailForm/".concat(t.id),children:"Edit"}),1==t.active?Object(ze.jsx)(Ee.a,{size:"small",variant:"contained",color:"error",onClick:function(){return S(t.id)},children:"Delete"}):Object(ze.jsx)(Ee.a,{size:"small",variant:"contained",color:"success",onClick:function(){return k(t.id)},children:"Active"})]})})]},n)}))})]})})}),-1!=h&&Object(ze.jsxs)(sa.a,{open:j,onClose:function(){b(!1)},children:[Object(ze.jsx)(oa.a,{sx:{minWidth:"1000px"},children:"Log Detail"}),Object(ze.jsxs)(la.a,{children:[Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"id: "}),"#",h.id]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Family: "})," ",h.family]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Genus: "})," ",Object(ze.jsx)("i",{children:h.genus})]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Species: "})," ",Object(ze.jsx)("i",{children:"".concat(h.genus," ").concat(h.species)})]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Author: "})," ",h.author]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Publish year:"})," ",h.publish_year]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Country:"})," ",h.country]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Other country:"})," ",h.country_other]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Altitude: "})," ",h.altitude]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Method: "})," ",h.method]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Habitat: "})," ",h.habitat]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Microhabitat: "})," ",h.microhabitat]}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Designate: "})," ",h.designate]}),Object(ze.jsx)(Jt.a,{children:h.location&&h.location.map((function(e,t){return Object(ze.jsx)(Kt.a,{disablePadding:!0,sx:{paddingLeft:"20px"},children:Object(ze.jsx)(Yt.a,{primary:Object(ze.jsxs)(we.a,{container:!0,justifyContent:"space-between",children:[Object(ze.jsx)(we.a,{item:!0,xs:12,md:6,lg:3,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Province: "}),Object(ze.jsx)("br",{}),s&&s.find((function(t){return t.id==parseInt(e.province)})).name_en]})}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:6,lg:3,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"District: "}),Object(ze.jsx)("br",{}),l&&l.find((function(t){return t.id==parseInt(e.district)})).name_en]})}),Object(ze.jsxs)(we.a,{item:!0,xs:12,md:6,lg:3,children:[Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Locality: "})," ",Object(ze.jsx)("br",{}),e.locality]}),Object(ze.jsx)("br",{})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,md:6,lg:3,children:Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Position: "}),Object(ze.jsx)("br",{}),e.address.map((function(e){return e.name+", "}))]})})]})})},t)}))}),Object(ze.jsxs)(_e.a,{variant:"subtitle1",component:"div",children:[Object(ze.jsx)("b",{children:"Paper referance: "})," ",h.paper.map((function(e){return e.name+", "}))]}),h.image&&h.image.map((function(e,t){return Object(ze.jsx)("img",{src:"/".concat(e.path),style:{maxHeight:"360px",width:"auto",margin:"5px",padding:"5px",border:"1px solid #b8b8b8"}},t)}))]})]})]})})})})},ba=n(475),pa=Object(je.a)({}),xa=Object(xe.a)((function(){return{root:{},paper:{padding:"10px",boxShadow:"none",border:"1px solid #B3B6B7"}}})),ha=function(e){var t=xa(),n=Object(o.b)(),a=Object(r.useRef)(),c=Object(o.c)((function(e){return e.province})).result,i=Object(o.c)((function(e){return e.district})).result,s=Object(o.c)((function(e){return e.family})).result,l=Object(o.c)((function(e){return e.genus})).result,u=Object(o.c)((function(e){return e.species})).result,j=Object(r.useState)(),b=Object(ge.a)(j,2),p=b[0],x=(b[1],Object(r.useState)()),h=Object(ge.a)(x,2),f=(h[0],h[1],Object(r.useState)()),m=Object(ge.a)(f,2),O=m[0],g=m[1],v=Object(r.useState)([]),y=Object(ge.a)(v,2),w=y[0],S=y[1],k=Object(r.useState)(),_=Object(ge.a)(k,2),F=_[0],C=_[1],E=Object(r.useState)(),I=Object(ge.a)(E,2),P=I[0],A=I[1],N=Object(r.useState)(),z=Object(ge.a)(N,2),L=z[0],D=z[1],B=Object(r.useState)(),T=Object(ge.a)(B,2),G=T[0],W=T[1],R=Object(r.useState)(),M=Object(ge.a)(R,2),H=M[0],U=M[1],q=Object(r.useState)(),V=Object(ge.a)(q,2),J=(V[0],V[1]);Object(r.useEffect)(Object(Oe.a)(me.a.mark((function t(){var a,r,c,i,s,o,l,u,d;return me.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.match.params.id,null!=O||!a){t.next=51;break}if(!a){t.next=8;break}return t.next=5,ut.getDetailAdmin(a);case 5:t.t0=t.sent,t.next=9;break;case 8:t.t0=!1;case 9:if(!(r=t.t0)){t.next=51;break}return t.next=13,Ln.getImageAdmin(a);case 13:return c=t.sent,r.image=c,t.next=17,Ye.getFamily(r.family_id);case 17:return i=t.sent,r.family=i[0].name,t.next=21,$e.getGenus(r.genus_id);case 21:return s=t.sent,r.genus=s[0].name,t.next=25,St.getSpecies(r.species_id);case 25:return o=t.sent,r.species=o[0].name,t.next=29,ht.getLocationAdmin(a);case 29:l=t.sent,u=0;case 31:if(!(u<l.length)){t.next=38;break}return t.next=34,vt.getAddressAdmin(l[u].id);case 34:l[u].address=t.sent;case 35:u++,t.next=31;break;case 38:return r.location=l,t.next=41,An.getPaperAdmin(a);case 41:d=t.sent,r.paper=d,console.log("tmp",r),n(nt()),n(rt()),n(Xe()),n(et()),n(kt()),g(r),J(r);case 51:(function(){var e=[],t=(new Date).getFullYear();console.log("now year : ".concat(t));for(var n=t;n>t-100;n--)e.push(n);S([].concat(e))})();case 53:case"end":return t.stop()}}),t)}))),[O]);var K=function(e){13===(e.charCode||e.keyCode)&&e.preventDefault()},Y=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:O.id,family_id:parseInt(t.family_id),genus_id:parseInt(t.genus_id),species_id:parseInt(t.species_id)},a=!1,e.next=4,Hn(n);case 4:(a=e.sent)==n.id&&C(!0),console.log("res update type",a);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a,r,c,i,s,o,l;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.location,a=!1,r=0;case 3:if(!(r<n.length)){e.next=39;break}if(c=!1,delete(i=Object(d.a)({},n[r])).address,console.log("onLocation",i),-1!=n[r].id){e.next=14;break}return e.next=11,Gn(i,O.id);case 11:c=e.sent,e.next=17;break;case 14:return e.next=16,qn(i,O.id);case 16:c=e.sent;case 17:a=!!c,s=0;case 19:if(!(s<n[r].address.length)){e.next=36;break}if(o=Object(d.a)({},n[r].address[s]),console.log("resLocation",c),l=!1,-1!=o.id){e.next=29;break}return e.next=26,Wn(o,c);case 26:l=e.sent,e.next=32;break;case 29:return e.next=31,Vn(o);case 31:l=e.sent;case 32:a=!!l;case 33:s++,e.next=19;break;case 36:r++,e.next=3;break;case 39:a&&D(!0);case 40:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(Oe.a)(me.a.mark((function e(t){var n,a,r,c,i;return me.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.paper,a=!1,r=0;case 3:if(!(r<n.length)){e.next=19;break}if(c=Object(d.a)({},n[r]),i=!1,-1!=c.id){e.next=12;break}return e.next=9,Rn(c,O.id);case 9:i=e.sent,e.next=15;break;case 12:return e.next=14,Jn(c);case 14:i=e.sent;case 15:a=!!i;case 16:r++,e.next=3;break;case 19:a&&W(n);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(ze.jsx)("div",{className:"page",children:Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:pa,children:Object(ze.jsx)(de.a,{maxWidth:"lg",children:null!=O&&Object(ze.jsxs)(Pt.a,{className:t.paper,children:[Object(ze.jsxs)(_e.a,{variant:"h5",component:"div",sx:{fontWeight:600},gutterBottom:!0,children:["Edit from ID #",p&&p.id]}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h6",component:"div",sx:{fontWeight:600},children:"Family Action"}),Object(ze.jsx)(Se.a,{in:!!F,children:Object(ze.jsx)(ke.a,{children:"Save type"})}),Object(ze.jsx)(ln.d,{initialValues:{family_id:O.family_id,genus_id:O.genus_id,species_id:O.species_id},enableReinitialize:!0,innerRef:a,onSubmit:function(e,t){try{Y(e)}catch(n){console.log("error",n)}},children:function(e){var n=e.values;e.errors,e.isSubmitting,e.touched,e.handleBlur,e.setFieldValue;return Object(ze.jsxs)(ln.c,{autoComplete:"off",className:t.form,onKeyDown:K,children:[Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:12,lg:4,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:"Family"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",id:"family_id",name:"family_id",children:s&&s.map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,lg:4,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:"Genus"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",id:"genus_id",name:"genus_id",children:l&&l.filter((function(e){return e.family_id===Number(n.family_id)})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,lg:4,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",component:"div",children:"Species"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",id:"species_id",name:"species_id",children:u&&u.filter((function(e){return e.genus_id===Number(n.genus_id)})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name},t)}))})]})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Ee.a,{type:"submit",variant:"contained",size:"small",children:"save"})]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h6",component:"div",sx:{fontWeight:600},children:"Detail"}),Object(ze.jsx)(Se.a,{in:!!P,children:Object(ze.jsx)(ke.a,{children:"Save Detail"})}),Object(ze.jsx)(ln.d,{initialValues:{author:O.author,publish_year:O.publish_year,country:O.country,country_other:O.country_other,altitude:O.altitude,method:O.method,habitat:O.habitat,microhabitat:O.microhabitat,designate:O.designate},onSubmit:function(e,t){try{!function(e){var t=e;t.id=O.id,A(t),Un(t)==t.id&&A(!0)}(e)}catch(n){console.log("general err",n)}},children:function(e){var n=e.values;e.errors,e.isSubmitting,e.touched,e.handleBlur,e.setFieldValue;return Object(ze.jsxs)(ln.c,{autoComplete:"off",className:t.form,onKeyDown:K,children:[Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:9,className:"author",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"Author"}),Object(ze.jsx)(ln.a,{name:"author",component:Fn.a,fullWidth:!0,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:3,className:"year",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"publish year"}),Object(ze.jsx)(ln.a,{name:"publish_year",component:_n.a,formControl:{sx:{width:"100%",size:"small"}},size:"small",MenuProps:{PaperProps:{sx:{maxHeight:300}}},children:w&&w.map((function(e,t){return Object(ze.jsx)(Et.a,{value:e,children:e},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:3,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Country"}),Object(ze.jsx)(ln.a,{name:"country",component:Fn.a,disabled:!0,fullWidth:!0,value:n.country,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:9,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Other country"}),Object(ze.jsx)(ln.a,{name:"country_other",component:Fn.a,fullWidth:!0,size:"small",placeholder:"if any"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Altitude"}),Object(ze.jsx)(ln.a,{name:"altitude",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Method"}),Object(ze.jsx)(ln.a,{name:"method",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"habitat"}),Object(ze.jsx)(ln.a,{name:"habitat",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"microhabitat"}),Object(ze.jsx)(ln.a,{name:"microhabitat",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]}),Object(ze.jsxs)(we.a,{item:!0,xs:12,children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Designate"}),Object(ze.jsx)(ln.a,{name:"designate",component:Fn.a,fullWidth:!0,multiline:!0,rows:2,size:"small"})]})]}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Ee.a,{type:"submit",variant:"contained",size:"small",children:"save"})]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h6",component:"div",sx:{fontWeight:600},children:"Location"}),Object(ze.jsx)(Se.a,{in:!!L,children:Object(ze.jsx)(ke.a,{children:"Save Locations"})}),Object(ze.jsx)(ln.d,{initialValues:{location:O.location},onSubmit:function(e,t){try{X(e)}catch(n){}},children:function(e){var n=e.values,a=(e.errors,e.isSubmitting,e.touched,e.handleBlur,e.setFieldValue);return Object(ze.jsxs)(ln.c,{autoComplete:"off",className:t.form,onKeyDown:K,children:[Object(ze.jsx)(ln.b,{name:"location",children:function(e){var t=e.push,s=(e.pop,e.remove);return Object(ze.jsx)(r.Fragment,{children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsx)(we.a,{item:!0,xs:12,style:{display:"flex"},children:Object(ze.jsx)(Ee.a,{variant:"contained",size:"small",color:"warning",onClick:function(){return t({id:-1,detail_id:n.location[0].detail_id,province:"",district:"",locality:"",active:1,address:[{id:-1,location_id:"newLocation",name:"",latitude:"",longitude:"",active:1}]})},children:"Add location"})}),n.location&&n.location.map((function(e,t){return Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(Pt.a,{sx:{padding:"10px",paddingBottom:"15px"},children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsxs)(_e.a,{varaint:"subtitle1",children:["Location ",t+1,"."]})}),Object(ze.jsxs)(we.a,{item:!0,xs:3,className:"province",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"Province"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},MenuProps:{PaperProps:{sx:{maxHeight:500}}},size:"small",id:"location[".concat(t,"].province"),name:"location[".concat(t,"].province"),children:c&&c.sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name_en},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:3,className:"district",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"District"}),Object(ze.jsx)(ln.a,{component:_n.a,formControl:{sx:{width:"100%",size:"small"}},MenuProps:{PaperProps:{sx:{maxHeight:500}}},size:"small",id:"location[".concat(t,"].district"),name:"location[".concat(t,"].district"),children:i&&i.filter((function(e){return e.province_id==n.location[t].province})).sort((function(e,t){return e.name_en>t.name_en?1:-1})).map((function(e,t){return Object(ze.jsx)(Et.a,{value:e.id,children:e.name_en},t)}))})]}),Object(ze.jsxs)(we.a,{item:!0,xs:6,className:"locality",children:[Object(ze.jsx)(_e.a,{varaint:"subtitle1",children:"Locality"}),Object(ze.jsxs)(Cn.a,{style:{display:"flex"},children:[Object(ze.jsx)(ln.a,{name:"location[".concat(t,"].locality"),component:Fn.a,size:"small",fullWidth:!0}),Object(ze.jsx)("div",{style:{flexGrow:1}}),1==e.active?Object(ze.jsx)(ve.a,{color:"error",sx:{marginLeft:"1rem"},onClick:function(){n.location.length>1&&-1==e.id?s(t):a("location[".concat(t,"].active"),0)},children:Object(ze.jsx)(Zn.a,{})}):Object(ze.jsx)(ve.a,{color:"success",sx:{marginLeft:"1rem"},onClick:function(){n.location.length>1&&-1==e.id?s(t):a("location[".concat(t,"].active"),1)},children:Object(ze.jsx)(ba.a,{})})]})]}),Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsx)(ln.b,{name:"location[".concat(t,"].address"),children:function(e){var r=e.push,c=e.remove;return Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:12,style:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",gutterBottom:!0,children:"address"}),Object(ze.jsx)(Ee.a,{sx:{marginLeft:"2rem"},color:"warning",variant:"contained",size:"small",onClick:function(){r({id:-1,name:"",latitude:"",longitude:"",active:1})},children:"Add"})]}),n.location[t].address&&n.location[t].address.map((function(e,r){return Object(ze.jsx)(we.a,{item:!0,xs:12,children:Object(ze.jsxs)(we.a,{container:!0,spacing:2,alignItems:"flex-end",children:[Object(ze.jsxs)(we.a,{item:!0,xs:4,sx:{display:"flex",alignItems:"flex-end"},children:[Object(ze.jsxs)(_e.a,{varaint:"subtitle1",gutterBottom:!0,sx:{marginRight:"1rem"},children:[r+1,"."]}),Object(ze.jsx)(Cn.a,{sx:{flexGrow:1}}),Object(ze.jsx)(ln.a,{name:"location[".concat(t,"].address[").concat(r,"].name"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Name"})]}),Object(ze.jsx)(we.a,{item:!0,xs:3,children:Object(ze.jsx)(ln.a,{name:"location[".concat(t,"].address[").concat(r,"].latitude"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Latitude"})}),Object(ze.jsx)(we.a,{item:!0,xs:3,children:Object(ze.jsx)(ln.a,{name:"location[".concat(t,"].address[").concat(r,"].longitude"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Longitude"})}),Object(ze.jsx)(we.a,{item:!0,xs:1,children:1==e.active?Object(ze.jsx)(ve.a,{color:"error",onClick:function(){n.location[t].address.length>1&&-1==e.id?c(r):a("location[".concat(t,"].address[").concat(r,"].active"),0)},children:Object(ze.jsx)($n.a,{})}):Object(ze.jsx)(ve.a,{color:"success",onClick:function(){a("location[".concat(t,"].address[").concat(r,"].active"),1)},children:Object(ze.jsx)(ba.a,{})})})]})},r)}))]})}})})]})})},t)}))]})})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Ee.a,{type:"submit",variant:"contained",size:"small",children:"save"})]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h6",component:"div",sx:{fontWeight:600},children:"Referance"}),Object(ze.jsx)(Se.a,{in:!!G,children:Object(ze.jsx)(ke.a,{children:"Save Referance"})}),Object(ze.jsx)(ln.d,{initialValues:{paper:O.paper},onSubmit:function(e,t){try{Q(e)}catch(n){console.log("error",n)}},children:function(e){var n=e.values,a=(e.errors,e.isSubmitting,e.touched,e.handleBlur,e.setFieldValue);return Object(ze.jsxs)(ln.c,{autoComplete:"off",className:t.form,onKeyDown:K,children:[Object(ze.jsx)(ln.b,{name:"paper",children:function(e){var t=e.push,r=e.remove;return Object(ze.jsxs)(we.a,{container:!0,spacing:2,children:[Object(ze.jsxs)(we.a,{item:!0,xs:12,sx:{display:"flex"},children:[Object(ze.jsx)(_e.a,{variant:"subtitle1",children:"Paper Ref"}),Object(ze.jsx)(Ee.a,{sx:{marginLeft:"2rem"},color:"warning",variant:"contained",size:"small",onClick:function(){return t({id:-1,detail_id:O.id,name:"",active:1})},children:"Add"})]}),n.paper&&n.paper.map((function(e,t){return Object(ze.jsxs)(we.a,{item:!0,xs:4,sx:{display:"flex",alignItems:"flex-end"},children:[Object(ze.jsxs)(_e.a,{varaint:"subtitle1",gutterBottom:!0,sx:{marginRight:"1rem"},children:[t+1,"."]}),Object(ze.jsx)(ln.a,{name:"paper[".concat(t,"].name"),component:Fn.a,size:"small",fullWidth:!0,placeholder:"Paper name"}),1==e.active?Object(ze.jsx)(ve.a,{color:"error",onClick:function(){n.paper.length>1&&-1==e.id?r(t):a("paper[".concat(t,"].active"),0)},children:Object(ze.jsx)($n.a,{})}):Object(ze.jsx)(ve.a,{color:"success",onClick:function(){a("paper[".concat(t,"].active"),1)},children:Object(ze.jsx)(ba.a,{})})]},t)}))]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Ee.a,{type:"submit",variant:"contained",size:"small",children:"save"})]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{}),Object(ze.jsx)(_e.a,{variant:"h6",component:"div",sx:{fontWeight:600},children:"Image"}),Object(ze.jsx)(Se.a,{in:!!H,children:Object(ze.jsx)(ke.a,{children:"Save Image"})}),Object(ze.jsx)(ln.d,{initialValues:{image:O.image},onSubmit:function(e,t){try{!function(e){for(var t=e.image,n=!0,a=0;a<t.length;a++){var r=Object(d.a)({},t[a]),c=!1;if(-1==r.id){var i=new FormData;i.append("image",r.name),i.append("detail_id",O.id),c=Mn(i)}else c=Kn(r);n=!!c}n&&U(!0)}(e)}catch(n){}},children:function(e){var n=e.values,a=e.errors,r=(e.isSubmitting,e.touched,e.handleBlur,e.setFieldValue);return Object(ze.jsxs)(ln.c,{autoComplete:"off",className:t.form,onKeyDown:K,children:[Object(ze.jsx)(ln.b,{name:"image",children:function(e){var t=e.push,a=e.remove;return Object(ze.jsxs)(Cn.a,{children:[Object(ze.jsxs)("label",{htmlFor:"button-file",children:[Object(ze.jsx)("input",{type:"file",id:"button-file",accept:"image/*",multiple:!0,hidden:!0,onChange:function(e){for(var n=e.currentTarget.files,a=function(n){var a=new FileReader,r=e.currentTarget.files[n];a.onloadend=function(){t({id:-1,detail_id:O.id,name:r,path:a.result,active:1})},console.log("loop",n,"file",r),a.readAsDataURL(r)},r=0;r<n.length;r++)a(r)}}),Object(ze.jsx)(Ee.a,{size:"small",variant:"contained",component:"span",color:"warning",children:"Add image"})]}),Object(ze.jsx)(Cn.a,{children:Object(ze.jsx)("br",{})}),Object(ze.jsx)(we.a,{container:!0,spacing:2,children:n.image.map((function(e,t){return Object(ze.jsx)(we.a,{item:!0,children:1==e.active?Object(ze.jsxs)(Cn.a,{sx:{textAlign:"center"},children:[Object(ze.jsx)(Cn.a,{children:Object(ze.jsx)("img",{src:-1!=e.id?"/".concat(e.path):e.path,style:{maxHeight:"245px",width:"auto",margin:"5px",padding:"5px",border:"2px solid #b8b8b8"}})}),Object(ze.jsx)(Ee.a,{variant:"contained",size:"small",sx:{textTransform:"none"},color:"error",onClick:function(){n.image.length>1&&-1==e.id?a(t):r("image[".concat(t,"].active"),0)},children:"Delete"})]}):Object(ze.jsxs)(Cn.a,{sx:{textAlign:"center"},children:[Object(ze.jsx)(Cn.a,{children:Object(ze.jsx)("img",{src:-1!=e.id?"/".concat(e.path):e.path,style:{maxHeight:"245px",width:"auto",margin:"5px",padding:"5px",border:"2px solid red"}})}),Object(ze.jsx)(Ee.a,{variant:"contained",size:"small",sx:{textTransform:"none"},color:"success",onClick:function(){r("image[".concat(t,"].active"),1)},children:"Active"})]})},t)}))})]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Cn.a,{sx:{display:"flex"},children:Object(ze.jsx)(Ee.a,{variant:"contained",type:"submit",size:"small",children:"Save"})}),Object(ze.jsx)(Cn.a,{style:{display:"flex"},children:Object(ze.jsx)("pre",{children:JSON.stringify({values:n,errors:a},null,4)})})]})}}),Object(ze.jsx)("br",{}),Object(ze.jsx)(Sn.a,{}),Object(ze.jsx)("br",{})]})})})})})},fa=Object(je.a)(),ma=Object(xe.a)((function(){return{content:{display:"flex",justifyContent:"center"}}})),Oa=function(){var e=ma(),t=Object(o.c)((function(e){return e.auth})).user,n=function(e){var n=e.component,a=Object(le.a)(e,["component"]);return t?(console.log("check auth ".concat("admin"===t.roles)),Object(ze.jsx)(ue.b,Object(d.a)(Object(d.a)({},a),{},{render:function(e){return"admin"===t.roles?Object(ze.jsx)(n,Object(d.a)({},e)):Object(ze.jsx)(ue.a,{to:"/"})}}))):Object(ze.jsx)(ue.a,{to:"/"})};return Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:fa,children:Object(ze.jsx)(de.a,{className:e.content,maxWidth:!1,disableGutters:!0,children:Object(ze.jsxs)(ue.d,{children:[Object(ze.jsx)(ue.b,{exact:!0,path:"/",component:tn}),Object(ze.jsx)(ue.b,{exact:!0,path:"/login",component:wn}),Object(ze.jsx)(ue.b,{exact:!0,path:"/Home",component:tn}),Object(ze.jsx)(ue.b,{exact:!0,path:"/detail/:id",component:ia}),Object(ze.jsx)(n,{exact:!0,path:"/Form",component:aa}),Object(ze.jsx)(n,{exact:!0,path:"/Manage",component:ja}),Object(ze.jsx)(n,{exact:!0,path:"/editDetailForm/:id",component:ha})]})})})})},ga=n(152),va=n(511),ya=n(512),wa=n(477),Sa=[{path:"/Manage",label:"Manage"},{path:"/Form",label:"Form"}],ka=function(e){var t=e.message,n=e.link,a=e.icon;return Object(ze.jsx)(Ee.a,{variant:"text",color:"inherit",align:"right",href:n,endIcon:a,sx:{textTransform:"none",fontWeight:600,borderRight:"1px solid #fff",borderRadius:"0"},children:t})},_a=n(510),Fa=n(215),Ca=n(476),Ea=Object(je.a)({}),Ia=Object(xe.a)((function(e){return{root:{"& .MuiPaper-root":{borderRadius:"4px",minWidth:140,color:"light"===e.palette.mode?"rgb(55, 65, 81)":e.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"0 0 0 0"}}}}})),Pa=function(e){var t=e.message,n=(e.icon,e.listButton),a=Ia(),r=c.a.useState(null),i=Object(ge.a)(r,2),s=i[0],o=i[1],l=Boolean(s);return Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsxs)(pe.a,{theme:Ea,children:[Object(ze.jsxs)(Ee.a,{id:"basic-button","aria-controls":"basic-menu","aria-haspopup":"true","aria-expanded":l?"true":void 0,onClick:function(e){o(e.currentTarget)},sx:{color:"white",textTransform:"none",fontWeight:600,borderRight:"1px solid #fff",borderRadius:"0"},children:[t," ",Object(ze.jsx)(_a.a,{sx:{display:"flex",alignItems:"center"},children:Object(ze.jsx)(Ca.a,{})})]}),Object(ze.jsx)(Fa.a,{className:a.root,anchorEl:s,open:l,onClose:function(){o(null)},elevation:0,children:n&&n.map((function(e,t){return Object(ze.jsx)(Bt.a,{href:e.path,underline:"none",sx:{color:"black"},children:Object(ze.jsx)(Et.a,{sx:{borderBottom:"1px solid #d4d5d6"},children:e.label})},t)}))})]})})},Aa=Object(je.a)({}),Na=Object(xe.a)((function(e){return{appBar:{"& .MuiAppBar-colorPrimary":{backgroundColor:"#002984"},"& .MuiToolbar-regular":{minHeight:"40px"},"& .MuiTypography-h4":{fontSize:"1.5rem"}}}})),za=function(){var e=Na(),t=Object(r.useState)(!1),n=Object(ge.a)(t,2),a=n[0],c=n[1],i=Object(o.b)(),s=Object(o.c)((function(e){return e.auth})).user;return Object(r.useEffect)((function(){s&&("admin"==s.roles?c(!0):c(!1))}),[]),Object(ze.jsx)(be.a,{injectFirst:!0,children:Object(ze.jsx)(pe.a,{theme:Aa,children:Object(ze.jsxs)("div",{className:e.appBar,children:[console.log("currentUser : ".concat(s)),Object(ze.jsx)(va.a,{position:"fixed",children:Object(ze.jsxs)(ya.a,{children:[Object(ze.jsx)(_e.a,{variant:"h4",component:"div",style:{marginRight:"20px"},children:"Spider Thailand"}),Object(ze.jsx)(ka,{message:"Home",link:"/"}),a&&Object(ze.jsx)(Pa,{message:"Manage",icon:Object(ze.jsx)(wa.a,{}),listButton:Sa}),Object(ze.jsx)("div",{style:{flexGrow:1}}),s?Object(ze.jsx)(Ee.a,{variant:"outlined",color:"inherit",align:"right",size:"small",onClick:function(){window.location.reload(),i((function(e){fn(),e({type:U})}))},sx:{textTransform:"none",fontWeight:600},children:"Logout"}):Object(ze.jsx)(Ee.a,{variant:"outlined",color:"inherit",align:"right",size:"small",href:"/login",sx:{textTransform:"none",fontWeight:600},children:"Login"})]})})]})})})};n(390),n(391);var La=function(){return Object(ze.jsx)(ga.a,{children:Object(ze.jsxs)("div",{style:{display:"flex"},children:[Object(ze.jsx)(r.Fragment,{children:Object(ze.jsx)(za,{})}),Object(ze.jsx)(Oa,{})]})})},Da=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,514)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(ze.jsx)(o.a,{store:oe,children:Object(ze.jsx)(La,{})}),document.getElementById("root")),Da()}},[[392,1,2]]]);
//# sourceMappingURL=main.8c353825.chunk.js.map